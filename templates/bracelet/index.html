{% extends "bracelet/template.html" %}
{% load i18n %}

{% block title %}{% endblock %}

{% block css %}
<link rel="stylesheet" href="{{ STATIC_URL }}css/home.css" type="text/css">
{% endblock %}

{% block content %}	
	<div id="right">
		<form action="search" method="get">
		<ul>
		<li>Category:</li>
			<select name="category">
			<option value="0">{% trans "All" %}</option>
			{% if categories %}
				{% for c in categories %}
					<option {% if category == c.name %}selected="selected" {% endif %}>{{ c.name }}</option>
				{% endfor %}
				</select>
			{% endif %}
			</select>
		<li>Rated:</li>
		<select name="rate">
		<option value="0">All</option>
		<option value="1" {% if rate == "1" %}selected="selected" {% endif %}>{% trans "More than" %} *</option>
		<option value="2" {% if rate == "2" %}selected="selected" {% endif %}>{% trans "More than" %} **</option>
		<option value="3" {% if rate == "3" %}selected="selected" {% endif %}>{% trans "More than" %} ***</option>
		<option value="4" {% if rate == "4" %}selected="selected" {% endif %}>{% trans "More than" %} ****</option>
		<option value="5" {% if rate == "5" %}selected="selected" {% endif %}>*****</option>
		</select>
		<li>Difficulty:
		<select name="difficulty">
		<option value="0">All</option>
		<option value="1" {% if difficulty == "1" %}selected="selected" {% endif %}>{% trans "Easy" %}</option>
		<option value="2" {% if difficulty == "2" %}selected="selected" {% endif %}>{% trans "Medium" %}</option>
		<option value="3" {% if difficulty == "3" %}selected="selected" {% endif %}>{% trans "Hard" %}</option>
		</select>
		</li>
		<li>Color:
			{% if colors %}
			<select name="color">
			<option value="0">{% trans "All" %}</option>
			{% for c in colors %}
				<option value="{{ c }}" style="background-color:{{ c }}" {% if c == color %}selected="selected" {% endif %}>         </option>
			{% endfor %}
			</select>
			{% endif %}
		</li>
			
		<li><input type="checkbox" name="photo" value="photo" {% if photo %}checked="checked" {% endif %}/> {% trans "With photo" %}</li>
		<li>Sort by:
			<select name="orderby">
			<option value="0" {% if orderby == "0" %}selected="selected" {% endif %}>{% trans "Newest first" %}</option>
			<option value="1" {% if orderby == "1" %}selected="selected" {% endif %}>{% trans "Oldest first" %}</option>
			<option value="2" {% if orderby == "2" %}selected="selected" {% endif %}>{% trans "Highest rates first" %}</option>
			<option value="3" {% if orderby == "3" %}selected="selected" {% endif %}>{% trans "Lowest rates first" %}</option>
			</select>
		</li>
		<li><input type="submit" value='{% trans "Search" %}' /></li>
		</ul>
		</form>
		{% if user.is_authenticated %}
			<a href="add">{% trans "Add new pattern" %}</a>
		{% else %}
			{% trans "You need to be logged to add new pattern" %}
		{% endif %}
	</div>
	<div id="left">
		{% if search %}
		{% trans "Results" %}:
		{% else %}
		{% trans "Newest bracelets" %}:
		{% endif %}
		<br />
		
		{% if patterns %}
		    {% for bt in patterns %}
		        <div>
		        <a href="/bracelet/{{ bt.id }}">
			        <table>
			        	<tr><td><img src="{{ STATIC_URL }}bracelet_thumbs/{{ bt.photo }}" /></td></tr>
			        	<tr><td>{% trans "author" %}: {{ bt.author }}</td></tr>
			    	    <tr><td>{% trans "date" %}: {{ bt.date }}</td></tr>
				    </table>
				    </a>
		        </div>
		    {% endfor %}
	    {% else %}
	    	{% trans "There is no patterns to show." %}
		{% endif %}
	</div>
	
	

{% endblock %}